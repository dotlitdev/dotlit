# Lightning FS

https://github.com/isomorphic-git/lightning-fs

## Bugs 🐜

- [x] wikiLinks and 404 behaviour results in incorrect/dangling lfs due to incorrect baseUrl.
```js
return lit.fs.readdir('/')
```
```>txt attached=true updated=1619393664190
[ 'renderer',
  'testing',
  'index.lit',
  '.git',
  'wiki-links.lit',
  '404.lit' ]
```
## Useful? an `fs` viewer


```js !viewer of=fs

export const viewer = ({node, React}) => {
  const rc = React.createElement
  const {useState, useEffect} = React
  const meta = node.properties 
               && node.properties.meta
  const [content, setContent] = useState('Loading...')
  const src = node.data.value.trim()
  useEffect(async () => {
    const l = await lit.fs.readdir(src)
    const list = l.map(async x=>{
       const stat = await lit.fs.stat(src + x)
       // console.log("STAT", stat)
       return rc("div", {className: stat.type}, `${x}`)
    })
    const res = (await Promise.all(list))
    setContent(res)
  },[src])

  return rc('div', {
    className: 'custom-react-view',
  }, content)
}
```

```>fs
/
```

```html !below
<style>
.custom-react-view .dir {
  font-weight: bold;
}
.custom-react-view .dir:after {
  display:inline;
  content: "/";
}
</style>
```