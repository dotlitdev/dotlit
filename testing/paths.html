<html data-reactroot=""><head><title>testing/paths.lit</title><meta name="litsrc" value="/testing/paths.lit"/><meta name="litroot" value="/"/><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/><meta name="apple-mobile-web-app-capable" content="yes"/><link rel="apple-touch-icon" href="/assets/lit-logo.png"/><link rel="icon" href="/assets/lit-logo.png"/><link rel="stylesheet" href="/style.css"/></head><body><div id="lit-app"><div id="lit-header"><menu class="horizontal open has-children"><li class="MenuTitle"><a href="/">Home</a></li><li class="MenuItems"><menu class="has-children" disabled=""><li class="MenuTitle">File</li></menu><menu class="has-children" disabled=""><li class="MenuTitle">Cell</li></menu><menu class="has-children" disabled=""><li class="MenuTitle">Section</li></menu><menu class="has-children" disabled=""><li class="MenuTitle">Help</li></menu><menu class="has-children right"><li class="MenuTitle"><span class="led led-grey"></span><span class="led led-grey"></span><span class="led led-grey"></span></li></menu></li></menu></div><style>body {
  --bg: white;
  --bg-secondary-color: #efefef;
    
  --text-color: black;
  --text-secondary-color: grey;
  --text-primary-color: #9999f7;
  --text-highlight-bg: yellow;
  --text-highlight-color: black;

  --divider-subtle: #efefef;
  --medium-space: 0.4em;
  --code-bg-color: black;
  --code-text-color: white;
  --box-bg-opacity: 0.05;
}</style><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.0.0/build/styles/sunburst.min.css"/><div id="content"><section id="testingpathslit" depth="1" class="" startpos="1:1-0" endpos="59:4-1400"><div startpos="1:1-0" endpos="59:4-1400" class="cell"><div class="cell-content"><h1 id="testingpathslit">testing/paths.lit</h1></div></div><div startpos="3:1-21" endpos="3:26-46" class="cell"><div class="cell-content"><p>Related <a class="exists local" href="links.html" title="testing/Links" wikilink="true" filepath="/testing/paths.lit" root="" data="[object Object]">testing/Links</a></p></div></div><div startpos="5:1-48" endpos="13:4-212" class="code   cell"><div class="cell-content"><div class="lang-js local codecell"><span class="meta"><span class="lang">js</span></span><pre><code class="js">return lit.location
</code></pre></div><div class="lang-txt local codecell output"><span class="meta"><span class="lang">txt</span><span class="updatedAt">Updated <span class="Time relative">139w ago</span></span></span><output><pre><code class="txt">{ src: &#x27;/testing/paths.lit&#x27;,
  root: &#x27;/&#x27;,
  base: &#x27;https://dotlit.org/&#x27;,
  query: {} }
</code></pre></output></div></div></div><div startpos="15:1-214" endpos="51:4-1129" class="code   cell"><div class="cell-content"><div class="tag-exploring lang-js local codecell"><span class="meta"><span class="lang">js</span><span style="color:black;background-color:#13e3be" class="tag">exploring</span></span><pre><code class="js">const {join, dirname, relative, resolve, normalize} = lit.utils.path
const {src,base,root} = lit.location

const full = join(base, root, src)

const ghConfig = {
  prefix: &#x27;..&#x27;
}
// for a regular GitHub pages repo root 
// will be calculated as the a sub path 
// of the domain root
const ghRoot = &#x27;/pages-repo&#x27;
const gh = join(ghRoot, ghConfig.prefix, src)


// resolving links relative to file and root

const test = {
  src: &#x27;/my/nested/file.lit&#x27;,
  root: &#x27;/not-at-root&#x27;,
  link: &#x27;../another/file.lit&#x27;,
}

const link = join(test.root, dirname(test.src), test.link)
const linkCanonical = resolve(dirname(test.src), test.link)

// resolving relative path between 2 canonical srcs

const rel = relative(dirname(src), test.src)

// revolving cell sources to gh path

const sourceGH = relative(dirname(&#x27;/meta/test.lit&#x27;), &#x27;../../escape.json&#x27;)

return {full, gh, link, linkCanonical, rel, sourceGH}
</code></pre></div></div></div><div startpos="52:1-1130" endpos="59:4-1400" class="code output  cell"><div class="cell-content"><div class="lang-txt local codecell output"><span class="meta"><span class="lang">txt</span><span class="updatedAt">Updated <span class="Time relative">139w ago</span></span></span><output><pre><code class="txt">{ full: &#x27;https:/dotlit.org/testing/paths.lit&#x27;,
  gh: &#x27;/testing/paths.lit&#x27;,
  link: &#x27;/not-at-root/my/another/file.lit&#x27;,
  linkCanonical: &#x27;/my/another/file.lit&#x27;,
  rel: &#x27;../my/nested/file.lit&#x27;,
  sourceGH: &#x27;../escape.json&#x27; }
</code></pre></output></div></div></div></section></div></div><div id="backlinks"><h4>Backlinks (1)</h4><ol><li><a title="ðŸ”¬ Tests, experiments and investigations" href="/testing/index.html">ðŸ”¬ Tests, experiments and investigations</a></li></ol></div><script src="//cdn.jsdelivr.net/npm/eruda"></script><script>eruda.init();</script><script async="" src="/web.bundle.js"></script></body></html>