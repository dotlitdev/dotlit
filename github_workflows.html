<html data-reactroot=""><head><title>github_workflows</title><meta name="litsrc" value="github_workflows.lit"/><meta name="litroot" value="."/><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/><link rel="stylesheet" href="style.css"/></head><body><div id="header"><header><a href=".">Home</a><span>Debug</span></header></div><div id="app"><div id="content"><section name="github-workflows"><cell startpos="1:1-0" endpos="1:19-18"><h1 id="github-workflows">GitHub Workflows</h1></cell><section name="deploy"><cell startpos="3:1-20" endpos="5:160-190"><h2 id="deploy">Deploy</h2><p><a href="https://github.com/dotlitdev/dotlit/actions/workflows/generate.yaml"><img src="https://github.com/dotlitdev/dotlit/actions/workflows/generate.yaml/badge.svg" alt="Deploy"/></a></p></cell><cell startpos="7:1-192" endpos="8:4-240" class="code"><codecell><span class="meta"><span class="lang">yaml</span><span class="repl"></span><span class="filename"></span></span><pre><code class="" meta="[object Object]"></code></pre></codecell></cell><cell startpos="10:1-242" endpos="11:4-274" class="code"><codecell><span class="meta"><span class="lang">yaml</span><span class="repl"></span><span class="filename"></span></span><pre><code class="" meta="[object Object]"></code></pre></codecell></cell><section name="npm-publish"><cell startpos="13:1-276" endpos="15:167-458"><h2 id="npm-publish">NPM Publish</h2><p><a href="https://github.com/dotlitdev/dotlit/actions/workflows/npm-publish.yaml"><img src="https://github.com/dotlitdev/dotlit/actions/workflows/npm-publish.yaml/badge.svg" alt="Publish"/></a></p></cell><cell startpos="17:1-460" endpos="18:4-508" class="code"><codecell><span class="meta"><span class="lang">yaml</span><span class="repl"></span><span class="filename"></span></span><pre><code class="" meta="[object Object]">name: npm-publish
on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  npm-publish:
    name: npm-publish
    runs-on: ubuntu-latest

    steps:
    - name: Checkout repository
      uses: actions/checkout@master
    - name: Set up Node.js
      uses: actions/setup-node@master
      with:
        node-version: &#x27;14.x&#x27;
        registry-url: &#x27;https://registry.npmjs.org&#x27;
    - name: Publish Npm
      env:
          NODE_AUTH_TOKEN: ${{ secrets.NPM_AUTH_TOKEN }}
      run: |
        PUBLISHED_VERSION=$(npm view @dotlit/dotlit version)
        LOCAL_VERSION=$(node -p &quot;require(&#x27;./package.json&#x27;).version&quot;)
        if [ &quot;$PUBLISHED_VERSION&quot; = &quot;$LOCAL_VERSION&quot; ]; then
            echo &quot;No new version to publish. Latest is: $PUBLISHED_VERSION&quot;
        else
            npm install
            npm run build
            npm publish --access public
        fi

</code></pre></codecell></cell></section></section></section></div></div><div id="backlinks"><h4>Backlinks (1)</h4><ol><li><a title=".lit" href="index.html">.lit</a></li></ol></div><script src="//cdn.jsdelivr.net/npm/eruda"></script><script>eruda.init();</script><script src="web.bundle.js"></script></body></html>