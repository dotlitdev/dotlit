<html data-reactroot=""><head><title>Statch Pad</title><meta name="litsrc" value="scratch_pad.lit"/><meta name="litroot" value="/"/><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/><link rel="stylesheet" href="https://highlightjs.org/static/demo/styles/railscasts.css"/><link rel="stylesheet" href="/style.css"/></head><body><div id="app"><div id="header"><menu class="horizontal open has-children"><li class="MenuTitle"><a href="/">Home</a></li><li class="MenuItems"><menu class="has-children"><li class="MenuTitle">File</li></menu><menu class="has-children" disabled=""><li class="MenuTitle">Cell</li></menu><menu class="has-children" disabled=""><li class="MenuTitle">Section</li></menu><menu class="has-children"><li class="MenuTitle">Help</li></menu><menu class="has-children right"><li class="MenuTitle"><span class="led led-grey"></span></li></menu></li></menu></div><div id="content"><section depth="1" class="" startpos="1:1-0" endpos="9:21-148"><cell startpos="1:1-0" endpos="7:4-126"><h1 id="-scratch-Ô∏è-pad-">üî• Scratch ‚ö†Ô∏è Pad üî¨</h1><blockquote>
<p>Scratch pad to view <strong>Markdown</strong> output and <em>emergent</em> behaviour...</p>
</blockquote></cell><section depth="2" class="" startpos="9:1-128" endpos="9:21-148"><cell startpos="9:1-128" endpos="9:21-148"><h2 id="table-of-contents">Table of Contents</h2><ul>
<li>
<p><a href="#%EF%B8%8F-inline-markdown">‚úçÔ∏è Inline Markdown</a></p>
<ul>
<li>
<p><a href="#basics">Basics</a></p>
</li>
<li>
<p><a href="#-links">üîó Links</a></p>
<ul>
<li><a href="#wikilinks">WikiLinks</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="#%F0%9F%A7%AD-headings-h2">üß≠ Headings (h2)</a></p>
<ul>
<li>
<p><a href="#sub-headings-h3">Sub headings (h3)</a></p>
<ul>
<li>
<p><a href="#little-h4-custom-id">little (h4) {#custom-id}</a></p>
<ul>
<li>
<p><a href="#tiny-h5">tiny (h5)</a></p>
<ul>
<li><a href="#smallest-h6">smallest (h6)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="#%EF%B8%8F-lists">‚òëÔ∏è Lists</a></p>
<ul>
<li><a href="#basics-1">Basics</a></li>
<li><a href="#lists-with-nested-blocks">Lists with nested blocks</a></li>
</ul>
</li>
<li>
<p><a href="#%EF%B8%8F-code">‚ú≥Ô∏è Code</a></p>
<ul>
<li>
<p><a href="#basic-code-blocks">Basic code blocks</a></p>
</li>
<li>
<p><a href="#fenced-code-blocks">Fenced code blocks</a></p>
<ul>
<li>
<p><a href="#tags-and-directives">Tags and directives</a></p>
</li>
<li>
<p><a href="#attributes">Attributes</a></p>
</li>
<li>
<p><a href="#outputs-and-transcludes">Outputs and Transcludes</a></p>
</li>
<li>
<p><a href="#viewers">Viewers</a></p>
<ul>
<li><a href="#custom-viewers">Custom Viewers</a></li>
</ul>
</li>
<li>
<p><a href="#transformers">Transformers</a></p>
</li>
</ul>
</li>
</ul>
</li>
</ul></cell></section></section>
<section depth="2" class="" startpos="11:1-150" endpos="15:177-361"><cell startpos="11:1-150" endpos="11:22-171"><h2 id="Ô∏è-inline-markdown">‚úçÔ∏è Inline Markdown</h2></cell><section depth="3" class="" startpos="13:1-173" endpos="15:177-361"><cell startpos="13:1-173" endpos="15:177-361"><h3 id="basics">Basics</h3><p><code>.lit</code> is a plain text document format. Really it&#x27;s just <strong>Markdown</strong>. But with <em>Sections</em>, <em>Cells</em>, <!-- -->interactive<!-- --> <code>code</code> blocks and <em>meta</em> programming over its own <code>AST</code>.</p></cell></section></section>
<section depth="3" class="" startpos="17:1-363" endpos="31:30-746"><cell startpos="17:1-363" endpos="19:114-490"><h3 id="-links">üîó Links</h3><p><a href="#">Standard</a> links, <a href="wiki.html?file=wiki.lit" title="wiki" wikilink="true">wiki</a> links, inline <a href="https://example.com" title="Example">references</a>, footnotes<sup id="fnref-1"><a class="footnote-ref" href="#fn-1">1</a></sup> and <a href="https://exqmple.com">external</a> links</p></cell><section depth="4" class="" startpos="22:1-493" endpos="31:30-746"><cell startpos="22:1-493" endpos="31:30-746"><h4 id="wikilinks">WikiLinks</h4><ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" checked="" disabled=""/> <!-- -->with slashes: <a href="utils/fs.html?file=utils/fs.lit" title="utils/fs" wikilink="true">utils/fs</a></li>
<li class="task-list-item"><input type="checkbox" disabled=""/> <!-- -->with fragments: <a href="utils/urifragments.html?file=utils/urifragments.lit" title="utils/uri#fragments" wikilink="true">utils/uri#fragments</a>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled=""/> <!-- -->only fragments like <a href="wikilinks.html?file=wikilinks.lit" title="#Wikilinks" wikilink="true">#Wikilinks</a></li>
<li class="task-list-item"><input type="checkbox" disabled=""/> <!-- -->Hoist fragment</li>
</ul>
</li>
</ul></cell></section></section>
<section depth="2" class="" startpos="33:1-748" endpos="38:27-883"><cell startpos="33:1-748" endpos="33:20-767"><h2 id="üß≠-headings-h2">üß≠ Headings (h2)</h2></cell><section depth="3" class="" startpos="34:1-768" endpos="38:27-883"><cell startpos="34:1-768" endpos="34:22-789"><h3 id="sub-headings-h3">Sub headings (h3)</h3></cell><section depth="4" class="" startpos="35:1-790" endpos="38:27-883"><cell startpos="35:1-790" endpos="35:30-819"><h4 id="custom-id">little (h4)</h4></cell><section depth="5" class="" startpos="36:1-820" endpos="38:27-883"><cell startpos="36:1-820" endpos="36:16-835"><h5 id="tiny-h5">tiny (h5)</h5></cell><section depth="6" class="" startpos="37:1-836" endpos="38:27-883"><cell startpos="37:1-836" endpos="38:27-883"><h6 id="smallest-h6">smallest (h6)</h6><p>####### tooooo small (h6+)</p></cell></section></section></section></section></section>
<section depth="2" class="" startpos="40:1-885" endpos="50:12-992"><cell startpos="40:1-885" endpos="40:12-896"><h2 id="Ô∏è-lists">‚òëÔ∏è Lists</h2></cell><section depth="3" class="" startpos="42:1-898" endpos="50:12-992"><cell startpos="42:1-898" endpos="50:12-992"><h3 id="basics-1">Basics</h3><ul>
<li>List<!-- -->
<ul class="contains-task-list">
<li>styles</li>
<li class="task-list-item"><input type="checkbox" disabled=""/> <!-- -->not done<!-- -->
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" checked="" disabled=""/> <!-- -->done</li>
</ul>
</li>
</ul>
<ol>
<li>Foo<!-- -->
<ol>
<li>Bar</li>
<li>Qux</li>
</ol>
</li>
</ol>
</li>
</ul></cell></section></section>
<section depth="3" class="" startpos="52:1-994" endpos="60:17-1105"><cell startpos="52:1-994" endpos="60:17-1105"><h3 id="lists-with-nested-blocks">Lists with nested blocks</h3><ul>
<li>
<h1 id="list-item-heading">List Item heading</h1>
<p>With additional</p>
<blockquote>
<p>block elements</p>
</blockquote>
<codecell><span class="meta"><span class="lang"></span></span><pre><code class="">Content...
</code></pre></codecell>
</li>
</ul></cell></section>
<section depth="2" class="" startpos="63:1-1108" endpos="69:23-1275"><cell startpos="63:1-1108" endpos="63:11-1118"><h2 id="Ô∏è-code">‚ú≥Ô∏è Code</h2></cell><section depth="3" class="" startpos="65:1-1120" endpos="69:23-1275"><cell startpos="65:1-1120" endpos="67:109-1251"><h3 id="basic-code-blocks">Basic code blocks</h3><p>Lines indented with 4 spaces, are plain code blocks without any syntax highlighting or additional behaviour.</p></cell><cell startpos="69:1-1253" endpos="69:23-1275" class="code"><codecell><span class="meta"><span class="lang"></span></span><pre><code class="">A plain code block
</code></pre></codecell></cell></section></section>
<section depth="3" class="" startpos="71:1-1277" endpos="101:4-1940"><cell startpos="71:1-1277" endpos="73:135-1435"><h3 id="fenced-code-blocks">Fenced code blocks</h3><p>Blocks preceded and suffixed with 3 backticks ie &quot;```&quot; with additional metadata being placed after the back ticks on the opening line.</p></cell><cell startpos="75:1-1437" endpos="79:8-1501" class="code"><codecell><span class="meta"><span class="lang"></span></span><pre><code class="">```lang filename.ext #tag !directive attr=val



```
</code></pre></codecell></cell><cell startpos="83:1-1505" endpos="85:4-1677" class="code"><codecell><span class="meta"><span class="lang">js</span><span class="repl">node</span><span class="filename">dummy/example.js</span><ul class="tags"><li><span class="tag">example</span></li><li><span class="tag">test</span></li></ul><ul class="directives"><li><span class="directive">exec</span></li><li><span class="directive">above</span></li></ul></span><pre><code class="js">// A named and configured fenced code block which is to be executed in a yet to be implemented nodejs repl.
</code></pre></codecell></cell><cell startpos="87:1-1679" endpos="88:4-1708" class="code"><codecell><span class="meta"><span class="lang">uri</span></span><pre><code class="uri"></code></pre></codecell></cell><section depth="4" class="" startpos="90:1-1710" endpos="101:4-1940"><cell startpos="90:1-1710" endpos="92:77-1812"><h4 id="tags-and-directives">Tags and directives</h4><p>Reserved directives include: <code>!inline</code> <code>!above</code> or for example <code>!onload</code> ...</p></cell><cell startpos="94:1-1814" endpos="101:4-1940" class="code"><codecell><span class="meta"><span class="lang">html</span><ul class="directives"><li><span class="directive">inline</span></li></ul></span><div><details>
<summary>
  inline <em>HTML</em>
</summary>
<p>An example details and summary tag</p>
</details>
</div></codecell></cell></section></section>
<section depth="4" class="" startpos="103:1-1942" endpos="111:151-2294"><cell startpos="103:1-1942" endpos="105:142-2100"><h4 id="attributes">Attributes</h4><p>For now the only reserved attributes are <code>viewer</code> see <a href="#viewers">Viewers</a> and <code>repl</code> used to define what remote REPL to execute code against.</p></cell><cell startpos="107:1-2102" endpos="109:4-2142" class="code"><codecell><span class="meta"><span class="lang">txt</span><span class="repl">echo</span></span><pre><code class="txt">pipe to echo binary
</code></pre></codecell></cell><cell startpos="111:1-2144" endpos="111:151-2294"><p>Potentially to include <code>updatedAt</code> and or a reference to source cell for outputs in order to maintain a connection with code that produced the output.</p></cell></section>
<section depth="4" class="" startpos="113:1-2296" endpos="168:4-3994"><cell startpos="113:1-2296" endpos="115:90-2415"><h4 id="outputs-and-transcludes">Outputs and Transcludes</h4><p>Metadata which references a source <code>lang &lt; ./file.ext</code> will be transcluded into the view.</p></cell><cell startpos="117:1-2417" endpos="119:4-2475" class="code"><codecell><span class="meta"><span class="lang">lit</span><span class="source">&lt; dummy/üî•.lit</span></span><pre><code class="lit">will be replaced by above source
</code></pre></codecell></cell><cell startpos="121:1-2477" endpos="121:86-2562"><p>Metadata which defines a filename <code>lang file.ext</code> will be mirrored to the filesystem.</p></cell><cell startpos="123:1-2564" endpos="146:4-3483" class="code"><codecell><span class="meta"><span class="lang">svg</span><span class="filename">dummy/example.svg</span><ul class="directives"><li><span class="directive">inline</span></li></ul></span><div><?xml version="1.0" standalone="no"?>

<svg width="120" height="120" version="1.1"
  xmlns="http://www.w3.org/2000/svg">
  <defs>
      <radialGradient id="Gradient"
            cx="0.5" cy="0.5" r="0.5" fx="0.25" fy="0.25">
        <stop offset="0%" stop-color="red"/>
        <stop offset="100%" stop-color="blue"/>
      </radialGradient>
  </defs>

  <rect x="10" y="10" rx="15" ry="15" width="100" height="100"
        fill="url(#Gradient)" stroke="black" stroke-width="2"/>

  <circle cx="60" cy="60" r="50" fill="transparent" stroke="white" stroke-width="2"/>
  <circle cx="35" cy="35" r="2" fill="white" stroke="white"/>
  <circle cx="60" cy="60" r="2" fill="white" stroke="white"/>
  <text x="38" y="40" fill="white" font-family="sans-serif" font-size="10pt">(fx,fy)</text>
  <text x="63" y="63" fill="white" font-family="sans-serif" font-size="10pt">(cx,cy)</text>

</svg>
</div></codecell></cell><cell startpos="148:1-3485" endpos="148:154-3638"><p>Using filename and transclude presents problems as to which one you&#x27;re viewing and which one you edit, see also caching (both at the remote and local fs)</p></cell><cell startpos="150:1-3640" endpos="153:4-3688" class="code"><codecell><span class="meta"><span class="lang">txt</span><span class="filename">dummy/plain.txt</span><span class="source">&lt; dummy/plain.txt</span></span><pre><code class="txt">B
C
</code></pre></codecell></cell><cell startpos="155:1-3690" endpos="157:40-3847"><p>Metadata which defines an output <code>lang &gt; file.ext</code> will output to the filesystem and the document when executed<sup id="fnref-2"><a class="footnote-ref" href="#fn-2">2</a></sup>.</p></cell><cell startpos="159:1-3849" endpos="163:4-3921" class="code"><codecell><span class="meta"><span class="lang">csv</span></span><pre><code class="csv">id,name,amount
17494,Alice,9001
245,Bob,2000
</code></pre></codecell></cell><cell startpos="164:1-3922" endpos="168:4-3994" class="code"><codecell><span class="meta"><span class="lang">csv</span><span class="filename">dummy/data.csv</span></span><table><tr><td>id</td><td>name</td><td>amount</td></tr><tr><td>17494</td><td>Alice</td><td>9001</td></tr><tr><td>245</td><td>Bob</td><td>2000</td></tr><tr><td></td></tr></table></codecell></cell></section>
<section depth="4" class="" startpos="170:1-3996" endpos="268:10-6143"><cell startpos="170:1-3996" endpos="174:50-4301"><h4 id="viewers">Viewers</h4><p>When a cell is an Output or has the directive <code>!inline</code> and a lang, file-extension, or the explicit <code>viewer=xxx</code> attribute, for which a Viewer exists then the source will be shown using the viewer and plain text source only visible on edit.</p><p>See <a href="meta/styling_and_themes.html#viewers">styles</a></p></cell><cell startpos="176:1-4303" endpos="178:4-4338" class="code"><codecell><span class="meta"><span class="lang">json</span></span><output><pre><code class="json">{&quot;json&quot;: &quot;viewer tbd&quot;}
</code></pre></output></codecell></cell><cell startpos="180:1-4340" endpos="184:4-4471" class="code"><codecell><span class="meta"><span class="lang">svg</span></span><div><svg width="100" height="100">
  <circle cx="50" cy="50" r="40" stroke="green" stroke-width="4" fill="yellow" />
</svg>
</div></codecell></cell><cell startpos="186:1-4473" endpos="188:4-4504" class="code"><codecell><span class="meta"><span class="lang">uri</span></span><iframe src="https://example.com
"></iframe></codecell></cell><cell startpos="190:1-4506" endpos="232:4-5556" class="code"><codecell><span class="meta"><span class="lang">html</span></span><div><head>
  <style> body { margin: 0; } </style>

  <script src="https://unpkg.com/force-graph"></script>
  <!--<script src="../../dist/force-graph.js"></script>-->
</head>

<body>
  <div id="graph"></div>

  <script>
    false && fetch('../datasets/miserables.json').then(res => res.json()).then(data => {
      const Graph = ForceGraph()
      (document.getElementById('graph'))
        .graphData(data)
        .nodeId('id')
        .nodeVal('val')
        .nodeLabel('id')
        .nodeAutoColorBy('group')
        .linkSource('source')
        .linkTarget('target')
    });

   // Random tree
    const N = 300;
    const gData = {
      nodes: [...Array(N).keys()].map(i => ({ id: i })),
      links: [...Array(N).keys()]
        .filter(id => id)
        .map(id => ({
          source: id,
          target: Math.round(Math.random() * (id-1))
        }))
    };

    const Graph = ForceGraph()
      (document.getElementById('graph'))
        .linkDirectionalParticles(2)
        .graphData(gData);
  </script>
</body>
</div></codecell></cell><cell startpos="234:1-5558" endpos="236:4-5618" class="code"><codecell><span class="meta"><span class="lang">js</span><ul class="directives"><li><span class="directive">inline</span></li></ul></span><script>confirm("It lives üå± from ")
</script></codecell></cell><cell startpos="238:1-5620" endpos="238:135-5754"><p>The above has a strange behaviour, in that it only executes the <code>static</code> value, and hydration with a diffent (local) value is ignored.</p></cell><cell startpos="240:1-5756" endpos="246:4-5864" class="code"><codecell><span class="meta"><span class="lang">css</span><ul class="directives"><li><span class="directive">inline</span></li></ul></span><style>#header { color: green; }
h1,h2,h3,h4,h5,h6 {
  position: sticky;
  top:0;
}
</style></codecell></cell><section depth="5" class="" startpos="248:1-5866" endpos="268:10-6143"><cell startpos="248:1-5866" endpos="250:4-5891"><h5 id="custom-viewers">Custom Viewers</h5><p>TBD</p></cell><cell startpos="252:1-5893" endpos="256:4-5967" class="code"><codecell><span class="meta"><span class="lang">foo</span><ul class="directives"><li><span class="directive">viewer</span></li></ul></span><pre><code class="foo">export const viewer = () =&gt; {
  return &quot;Foooooooooo!&quot;
}
</code></pre></codecell></cell><cell startpos="259:1-5970" endpos="268:10-6143"><p>Suggested or planned viewers</p><ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled=""/> <!-- -->JSON</li>
<li class="task-list-item"><input type="checkbox" checked="" disabled=""/> <!-- -->HTML (inclined)</li>
<li class="task-list-item"><input type="checkbox" checked="" disabled=""/> <!-- -->SVG (basically the above)</li>
<li class="task-list-item"><input type="checkbox" disabled=""/> <!-- -->CSV: Table</li>
<li class="task-list-item"><input type="checkbox" checked="" disabled=""/> <!-- -->URI: Iframe</li>
<li class="task-list-item"><input type="checkbox" checked="" disabled=""/> <!-- -->CSS: Style</li>
<li class="task-list-item"><input type="checkbox" checked="" disabled=""/> <!-- -->JS: Script</li>
<li class="task-list-item"><input type="checkbox" disabled=""/> <!-- -->UML</li>
</ul></cell></section></section>
<section depth="4" class="" startpos="270:1-6145" endpos="272:206-6369"><cell startpos="270:1-6145" endpos="272:206-6369"><h4 id="transformers">Transformers</h4><p>As opposed to viewers which change how a source file is viewed, a <code>transformer</code> looks at an input and output pair and sees if it knows how to convert between the two <code>lang</code> ie <code>styl &gt; css</code> or <code>ts &gt; js</code> etc</p></cell></section>
<div class="footnotes">
<hr/>
<ol>
<li id="fn-1">footnote
With multi line <code>content</code><a class="footnote-backref" href="#fnref-1">‚Ü©</a></li>
<li id="fn-2"><code>REPL</code> still to be reimplemented.<a class="footnote-backref" href="#fnref-2">‚Ü©</a></li>
</ol>
</div></div></div><div id="backlinks"><h4>Backlinks (2)</h4><ol><li><a title=".lit" href="/index.html">.lit</a></li><li><a title=".lit" href="/index.html">.lit</a></li></ol></div><script src="//cdn.jsdelivr.net/npm/eruda"></script><script>eruda.init();</script><script src="/web.bundle.js"></script></body></html>