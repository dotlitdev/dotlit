# Executing `code` cells

 ## Bugs ğŸœ and To do âœ…

- [x] executed cell gets replaced with its output
- [x] more robust outputs
  - [x] replace "connected" output on exec
- [ ] Extract transpilation as [[Transfomers]]

### Test runs

```js
return document.referrer

```
```>txt attached=true updated=1619020246162
https://dotlit.org/
```





```js test.ts babel=true
type Options = {[key: number]: string}
const fn = (opts : Options) => {
  const str:string = 12 
  // need linting to make this useful
  return str
}

return fn()

```
```>txt attached=true updated=1619018769927
12
```







```js test.js babel=true
const wait = (ms) => {
  return new Promise(resolve => {
    setTimeout( () => resolve("done"), ms)
  })
}
return wait(1000)


```
```>txt attached=true updated=1619010220532
done
```
```>txt updated=1618954777167
done
```
```>txt updated=1618954743463
done
```
```>txt updated=1618953953817
done
```
```>txt updated=1618953368012
undefined
```
```>txt updated=1618953254731
undefined
```
```>txt updated=1618953250856
[Function: fn]
```
```>txt updated=1618953237234
[Function: fn]
```
```>txt updated=1618953175980 !error
undefined
```

```js test.jsx babel=true
import React from 'react'

export const Component = props => {
  return <div></div>
}

return <Component/>

```
```>txt attached=true updated=1619010174197 !error
undefined
```
```>txt updated=1618956947532 !error
undefined
```
```>txt updated=1618954506126 !error
undefined
```
```>txt updated=1618954469123 !error
undefined
```
```>txt updated=1618952727758 !error
undefined
```
```>txt updated=1618952487030 !error
undefined
```
```>txt updated=1618952454121 !error
undefined
```
```>txt updated=1618936508923 !error
SyntaxError: /untitled.js: Unexpected reserved word 'await' (2:7)

  1 | const url = "manifest.json"
> 2 | return await fetch(url)
    |        ^
```
```>txt updated=1618935177697 !error
SyntaxError: /untitled.js: Unexpected reserved word 'await' (2:7)

  1 | const url = "manifest.json"
> 2 | return await fetch(url)
    |        ^
```
```>txt updated=1618924242458
{}
```

```js > md
console.log("A *result*: **" +  42/13 + "**")
return 42



```
```>md attached=true updated=1619010152435
A *result*: **3.230769230769231**
42
```







```js babel=true > json
return { foo: 'bar'}

```
```>json attached=true updated=1619020417262
{ foo: 'bar' }
```








## Other

























```js > text ast_info.txt !collapse
return this
```






```js > text !collapse
return lit.location
```


```js > text lit_utils.txt !collapse
return lit.utils
```


```js > text filter.txt !collapse
return lit.utils
          .select
          .selectAll('heading', ast)
          .map( h => h.data.id )
```




```>text filter.txt !collapse updated=1618926221457
undefined
```







